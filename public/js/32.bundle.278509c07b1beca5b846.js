(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[32],{

/***/ "./resources/js/views/auth/passwords/Reset.js":
/*!****************************************************!*\
  !*** ./resources/js/views/auth/passwords/Reset.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! formik */ \"./node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! yup */ \"./node_modules/yup/lib/index.js\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(yup__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n/* harmony import */ var _helpers_Navigation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../helpers/Navigation */ \"./resources/js/helpers/Navigation.js\");\n/* harmony import */ var _helpers_URL__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../helpers/URL */ \"./resources/js/helpers/URL.js\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layouts */ \"./resources/js/views/layouts/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../AppContext */ \"./resources/js/AppContext.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction PasswordReset(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({}),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(''),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(false),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState7, 2),\n      passwordVisible = _useState8[0],\n      setPasswordVisibility = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(false),\n      _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState9, 2),\n      passwordConfirmationVisible = _useState10[0],\n      setPasswordConfirmationVisibility = _useState10[1];\n  /**\n   * Handle password visibility toggle.\n   *\n   * @return {undefined}\n   */\n\n\n  var handlePasswordVisibilityToggle = function handlePasswordVisibilityToggle() {\n    setPasswordVisibility(!passwordVisible);\n  };\n  /**\n   * Handle password confirmation visibility toggle.\n   *\n   * @return {undefined}\n   */\n\n\n  var handlePasswordConfirmationVisibilityToggle = function handlePasswordConfirmationVisibilityToggle() {\n    setPasswordConfirmationVisibility(!passwordConfirmationVisible);\n  };\n  /**\n   * Handle Password Reset submission.\n   *\n   * @param {object} event\n   * @param {object} form\n   *\n   * @return {undefined}\n   */\n\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(values, _ref) {\n      var setSubmitting, setErrors, _useContext, authenticate, match, token, response, errors;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setSubmitting = _ref.setSubmitting, setErrors = _ref.setErrors;\n              setSubmitting(false);\n              setLoading(true);\n              _context.prev = 3;\n              _useContext = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_14__[\"AppContext\"]), authenticate = _useContext.authenticate;\n              match = props.match;\n              token = match.params.token;\n              _context.next = 9;\n              return axios.patch(\"api/v1/auth/password/reset/\".concat(token), values);\n\n            case 9:\n              response = _context.sent;\n              _context.next = 12;\n              return authenticate(JSON.stringify(response.data));\n\n            case 12:\n              setLoading(false);\n              _context.next = 24;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](3);\n\n              if (_context.t0.response) {\n                _context.next = 21;\n                break;\n              }\n\n              setLoading(false);\n              setMessage({\n                type: 'error',\n                title: 'Something went wrong',\n                body: 'Oops? Something went wrong here. Please try again.',\n                action: function action() {\n                  return window.location.reload();\n                }\n              });\n              return _context.abrupt(\"return\");\n\n            case 21:\n              errors = _context.t0.response.data.errors;\n\n              if (errors) {\n                setErrors(errors);\n              }\n\n              setLoading(false);\n\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 15]]);\n    }));\n\n    return function handleSubmit(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /**\n   * Set email here based on search parameters.\n   */\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (email === '') {\n      return;\n    }\n\n    var location = props.location;\n    var queryParams = _helpers_URL__WEBPACK_IMPORTED_MODULE_12__[\"queryParams\"](location.search);\n\n    if (!queryParams.hasOwnProperty('email')) {\n      return;\n    }\n\n    setEmail(queryParams.email);\n  });\n\n  var classes = props.classes,\n      other = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(props, [\"classes\"]);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_layouts__WEBPACK_IMPORTED_MODULE_13__[\"Auth\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, other, {\n    title: Lang.get('navigation.password_reset_title'),\n    subTitle: Lang.get('navigation.password_reset_subtitle'),\n    loading: loading,\n    message: message\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_7__[\"Formik\"], {\n    initialValues: {\n      password: '',\n      password_confirmation: ''\n    },\n    onSubmit: handleSubmit,\n    validationSchema: yup__WEBPACK_IMPORTED_MODULE_8__[\"object\"]().shape({\n      password: yup__WEBPACK_IMPORTED_MODULE_8__[\"string\"]().required(Lang.get('validation.required', {\n        attribute: 'password'\n      })).min(8, Lang.get('validation.min.string', {\n        attribute: 'password',\n        min: 8\n      })).oneOf([yup__WEBPACK_IMPORTED_MODULE_8__[\"ref\"]('password_confirmation'), null], Lang.get('validation.confirmed', {\n        attribute: 'password'\n      })),\n      password_confirmation: yup__WEBPACK_IMPORTED_MODULE_8__[\"string\"]().required(Lang.get('validation.required', {\n        attribute: 'password confirmation'\n      })).min(8, Lang.get('validation.min.string', {\n        attribute: 'password confirmation',\n        min: 8\n      }))\n    })\n  }, function (_ref3) {\n    var values = _ref3.values,\n        handleChange = _ref3.handleChange,\n        errors = _ref3.errors,\n        submitCount = _ref3.submitCount,\n        isSubmitting = _ref3.isSubmitting;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_7__[\"Form\"], {\n      autoComplete: \"off\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      container: true,\n      direction: \"column\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      item: true,\n      className: classes.formGroup\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], {\n      id: \"password\",\n      type: passwordVisible ? 'text' : 'password',\n      label: \"Password\",\n      value: values.password,\n      onChange: handleChange,\n      variant: \"outlined\",\n      fullWidth: true,\n      error: submitCount > 0 && errors.hasOwnProperty('password'),\n      helperText: submitCount > 0 && errors.hasOwnProperty('password') && errors.password,\n      InputProps: {\n        endAdornment: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"InputAdornment\"], {\n          position: \"end\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"IconButton\"], {\n          \"aria-label\": \"Toggle password visibility\",\n          onClick: function onClick() {\n            return handlePasswordVisibilityToggle();\n          }\n        }, passwordVisible ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__[\"VisibilityOff\"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__[\"Visibility\"], null)))\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      item: true,\n      className: classes.formGroup\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"TextField\"], {\n      id: \"password_confirmation\",\n      type: passwordConfirmationVisible ? 'text' : 'password',\n      label: \"Password Confirmation\",\n      value: values.password_confirmation,\n      onChange: handleChange,\n      variant: \"outlined\",\n      fullWidth: true,\n      error: submitCount > 0 && errors.hasOwnProperty('password_confirmation'),\n      helperText: submitCount > 0 && errors.hasOwnProperty('password_confirmation') && errors.password_confirmation,\n      InputProps: {\n        endAdornment: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"InputAdornment\"], {\n          position: \"end\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"IconButton\"], {\n          \"aria-label\": \"Toggle password visibility\",\n          onClick: function onClick() {\n            return handlePasswordConfirmationVisibilityToggle();\n          }\n        }, passwordConfirmationVisible ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__[\"VisibilityOff\"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__[\"Visibility\"], null)))\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      item: true,\n      className: classes.formGroup\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Link\"], {\n      component: function component(props) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__[\"Link\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n          to: {\n            search: _helpers_URL__WEBPACK_IMPORTED_MODULE_12__[\"queryString\"]({\n              username: email\n            }),\n            pathname: _helpers_Navigation__WEBPACK_IMPORTED_MODULE_11__[\"route\"]('auth.signin')\n          }\n        }));\n      }\n    }, Lang.get('navigation.signin')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      container: true,\n      justify: \"space-between\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      item: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Grid\"], {\n      item: true,\n      className: classes.formGroup\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: errors && Object.keys(errors).length > 0 && submitCount > 0 || isSubmitting\n    }, Lang.get('navigation.reset')))));\n  }));\n}\n\nvar styles = function styles(theme) {\n  return {\n    formGroup: {\n      padding: theme.spacing.unit * 2,\n      paddingTop: 0\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"withStyles\"])(styles)(PasswordReset));\n\n//# sourceURL=webpack:///./resources/js/views/auth/passwords/Reset.js?");

/***/ })

}]);