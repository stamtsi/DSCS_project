(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[13],{

/***/ "./resources/js/views/__backoffice/layouts/index.js":
/*!**********************************************************!*\
  !*** ./resources/js/views/__backoffice/layouts/index.js ***!
  \**********************************************************/
/*! exports provided: Clean, Master, Settings, Slave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Clean\", function() { return Clean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Master\", function() { return Master; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Settings\", function() { return Settings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Slave\", function() { return Slave; });\n/* harmony import */ var _loadable_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @loadable/component */ \"./node_modules/@loadable/component/dist/loadable.esm.js\");\n\nvar Clean = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 4).then(__webpack_require__.bind(null, /*! ./Clean */ \"./resources/js/views/__backoffice/layouts/Clean.js\"));\n});\nvar Master = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 5).then(__webpack_require__.bind(null, /*! ./Master */ \"./resources/js/views/__backoffice/layouts/Master.js\"));\n});\nvar Settings = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 25).then(__webpack_require__.bind(null, /*! ./Settings */ \"./resources/js/views/__backoffice/layouts/Settings.js\"));\n});\nvar Slave = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 10).then(__webpack_require__.bind(null, /*! ./Slave */ \"./resources/js/views/__backoffice/layouts/Slave.js\"));\n});\n\n//# sourceURL=webpack:///./resources/js/views/__backoffice/layouts/index.js?");

/***/ }),

/***/ "./resources/js/views/__backoffice/settings/Profile.js":
/*!*************************************************************!*\
  !*** ./resources/js/views/__backoffice/settings/Profile.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! formik */ \"./node_modules/formik/dist/formik.esm.js\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! yup */ \"./node_modules/yup/lib/index.js\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(yup__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/index.es.js\");\n/* harmony import */ var material_ui_pickers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! material-ui-pickers */ \"./node_modules/material-ui-pickers/dist/material-ui-pickers.esm.js\");\n/* harmony import */ var _date_io_moment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @date-io/moment */ \"./node_modules/@date-io/moment/build/index.esm.js\");\n/* harmony import */ var _helpers_URL__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../helpers/URL */ \"./resources/js/helpers/URL.js\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../layouts */ \"./resources/js/views/__backoffice/layouts/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../AppContext */ \"./resources/js/AppContext.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\nfunction Profile(props) {\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_15__[\"AppContext\"]),\n      user = _useContext.user;\n\n  var classes = props.classes,\n      other = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6___default()(props, [\"classes\"]);\n\n  var location = props.location;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])({}),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_useState5, 2),\n      formVisible = _useState6[0],\n      _setFormVisibility = _useState6[1];\n  /**\n   * Handle form submit, this should send an API response\n   * to update the profile.\n   *\n   * @param {object} values\n   * @param {object} form\n   *\n   * @return {undefined}\n   */\n\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(values, _ref) {\n      var setSubmitting, setErrors, updateProfile, errors;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setSubmitting = _ref.setSubmitting, setErrors = _ref.setErrors;\n              setSubmitting(false);\n\n              updateProfile = function updateProfile() {\n                return axios.patch('/api/v1/settings/profile', values);\n              };\n\n              _context2.prev = 3;\n              setLoading(true);\n              _context2.next = 7;\n              return updateProfile();\n\n            case 7:\n              setMessage({\n                type: 'success',\n                body: Lang.get('settings.profile_updated'),\n                closed: function closed() {\n                  return setMessage({});\n                }\n              });\n              setLoading(false);\n              _context2.next = 18;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](3);\n\n              if (_context2.t0.response) {\n                _context2.next = 15;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 15:\n              errors = _context2.t0.response.data.errors;\n\n              if (errors) {\n                setErrors(errors);\n              } else {\n                setMessage({\n                  type: 'error',\n                  body: Lang.get('settings.profile_not_updated'),\n                  closed: function closed() {\n                    return setMessage({});\n                  },\n                  actionText: Lang.get('actions.retry'),\n                  action: function () {\n                    var _action = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {\n                      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _context.next = 2;\n                              return updateProfile();\n\n                            case 2:\n                              return _context.abrupt(\"return\", _context.sent);\n\n                            case 3:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee);\n                    }));\n\n                    function action() {\n                      return _action.apply(this, arguments);\n                    }\n\n                    return action;\n                  }()\n                });\n              }\n\n              setLoading(false);\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[3, 11]]);\n    }));\n\n    return function handleSubmit(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    var queryParams = _helpers_URL__WEBPACK_IMPORTED_MODULE_13__[\"queryParams\"](location.search);\n\n    if (queryParams.hasOwnProperty('visible')) {\n      _setFormVisibility(true);\n    } else if (queryParams.hasOwnProperty('hidden')) {\n      _setFormVisibility(false);\n    }\n  });\n  var renderForm = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Grid\"], {\n    item: true,\n    md: 8,\n    sm: 12,\n    xs: 12\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Paper\"], {\n    className: classes.form\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_8__[\"Formik\"], {\n    initialValues: {\n      name: user.name\n    },\n    validationSchema: yup__WEBPACK_IMPORTED_MODULE_9__[\"object\"]().shape({\n      name: yup__WEBPACK_IMPORTED_MODULE_9__[\"string\"]().required(Lang.get('validation.required', {\n        attribute: 'name'\n      }))\n    }),\n    onSubmit: /*#__PURE__*/function () {\n      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3(values, form) {\n        var mappedValues, valuesArray;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                mappedValues = {};\n                valuesArray = Object.values(values); // Format values specially the object ones (i.e Moment)\n\n                Object.keys(values).forEach(function (filter, key) {\n                  if (valuesArray[key] !== null && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(valuesArray[key]) === 'object' && valuesArray[key].hasOwnProperty('_isAMomentObject')) {\n                    mappedValues[filter] = moment(valuesArray[key]).format('YYYY-MM-DD');\n                    return;\n                  }\n\n                  mappedValues[filter] = valuesArray[key];\n                });\n                _context3.next = 5;\n                return handleSubmit(mappedValues, form);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    validateOnBlur: false\n  }, function (_ref4) {\n    var values = _ref4.values,\n        errors = _ref4.errors,\n        submitCount = _ref4.submitCount,\n        isSubmitting = _ref4.isSubmitting,\n        handleChange = _ref4.handleChange,\n        setFieldValue = _ref4.setFieldValue;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_8__[\"Form\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Typography\"], {\n      variant: \"h6\",\n      gutterBottom: true\n    }, \"Personal Information\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"TextField\"], {\n      id: \"name\",\n      name: \"name\",\n      label: \"Name\",\n      placeholder: \"Enter your name\",\n      value: values.name,\n      onChange: handleChange,\n      fullWidth: true,\n      margin: \"dense\",\n      error: submitCount > 0 && errors.hasOwnProperty('name'),\n      helperText: submitCount > 0 && errors.hasOwnProperty('name') && errors.name\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n      className: classes.dense\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Button\"], {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: errors && Object.keys(errors).length > 0 && submitCount > 0 || isSubmitting\n    }, loading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n      className: classes.spinner\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"CircularProgress\"], {\n      size: 14,\n      color: \"inherit\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Typography\"], {\n      color: \"inherit\"\n    }, \"Update\")));\n  })));\n  var renderBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_layouts__WEBPACK_IMPORTED_MODULE_14__[\"Settings\"], {\n    navigationProps: _objectSpread(_objectSpread({}, other), {}, {\n      formVisible: formVisible,\n      setFormVisibility: function setFormVisibility() {\n        return _setFormVisibility(!formVisible);\n      }\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Hidden\"], {\n    mdUp: true\n  }, formVisible && renderForm), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"Hidden\"], {\n    smDown: true\n  }, renderForm));\n  var Layout = formVisible ? _layouts__WEBPACK_IMPORTED_MODULE_14__[\"Slave\"] : _layouts__WEBPACK_IMPORTED_MODULE_14__[\"Clean\"];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Layout, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, other, {\n    pageTitle: \"Profile\",\n    message: message\n  }), renderBody);\n}\n\nvar styles = function styles(theme) {\n  return {\n    form: {\n      padding: theme.spacing.unit * 3,\n      minHeight: '100%'\n    },\n    dense: {\n      marginTop: 16\n    },\n    spinner: {\n      marginRight: theme.spacing.unit\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"withStyles\"])(styles)(Profile));\n\n//# sourceURL=webpack:///./resources/js/views/__backoffice/settings/Profile.js?");

/***/ })

}]);