(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[12],{

/***/ "./resources/js/ui/index.js":
/*!**********************************!*\
  !*** ./resources/js/ui/index.js ***!
  \**********************************/
/*! exports provided: Breadcrumbs, Dropzone, Modal, Skeleton, Snackbar, Table, TablePaginationActions, TableToolbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Breadcrumbs\", function() { return Breadcrumbs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dropzone\", function() { return Dropzone; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Modal\", function() { return Modal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Skeleton\", function() { return Skeleton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Snackbar\", function() { return Snackbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Table\", function() { return Table; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TablePaginationActions\", function() { return TablePaginationActions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableToolbar\", function() { return TableToolbar; });\n/* harmony import */ var _loadable_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @loadable/component */ \"./node_modules/@loadable/component/dist/loadable.esm.js\");\n\nvar Breadcrumbs = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(30), __webpack_require__.e(7)]).then(__webpack_require__.bind(null, /*! ./Breadcrumbs */ \"./resources/js/ui/Breadcrumbs.js\"));\n});\nvar Dropzone = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(30), __webpack_require__.e(8)]).then(__webpack_require__.bind(null, /*! ./Dropzone */ \"./resources/js/ui/Dropzone.js\"));\n});\nvar Modal = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 4).then(__webpack_require__.bind(null, /*! ./Modal */ \"./resources/js/ui/Modal.js\"));\n});\nvar Skeleton = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(30), __webpack_require__.e(21)]).then(__webpack_require__.bind(null, /*! ./Skeleton */ \"./resources/js/ui/Skeleton.js\"));\n});\nvar Snackbar = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 22).then(__webpack_require__.bind(null, /*! ./Snackbar */ \"./resources/js/ui/Snackbar.js\"));\n});\nvar Table = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 23).then(__webpack_require__.bind(null, /*! ./Table */ \"./resources/js/ui/Table.js\"));\n});\nvar TablePaginationActions = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return __webpack_require__.e(/*! import() */ 24).then(__webpack_require__.bind(null, /*! ./TablePaginationActions */ \"./resources/js/ui/TablePaginationActions.js\"));\n});\nvar TableToolbar = Object(_loadable_component__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(30), __webpack_require__.e(10)]).then(__webpack_require__.bind(null, /*! ./TableToolbar/TableToolbar */ \"./resources/js/ui/TableToolbar/TableToolbar.js\"));\n});\n\n//# sourceURL=webpack:///./resources/js/ui/index.js?");

/***/ }),

/***/ "./resources/js/views/__backoffice/users/Forms/Avatar.js":
/*!***************************************************************!*\
  !*** ./resources/js/views/__backoffice/users/Forms/Avatar.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/index.es.js\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../ui */ \"./resources/js/ui/index.js\");\n\n\n\n\n\n\n\n\nfunction Avatar(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])([]),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n      files = _useState2[0],\n      setFiles = _useState2[1];\n  /**\n   * Initial files to be fed to dropzone.\n   *\n   * @return {array}\n   */\n\n\n  var loadFiles = function loadFiles() {\n    var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var user = props.user;\n\n    if (!user.hasOwnProperty('filename')) {\n      return;\n    }\n\n    if (user.filename === null) {\n      return;\n    }\n\n    var files = [{\n      name: user.original_filename,\n      size: user.thumbnail_filesize,\n      url: user.thumbnail_url,\n      type: \"image/\".concat(user.filename.split('.').reverse()[0]),\n      status: 'uploaded'\n    }];\n    setFiles(files);\n  };\n  /**\n   * Handle the removal of files.\n   *\n   * @param {object} file The file that should be fed to the API.\n   * @param {function} removed  When called, will inform that the file is removed.\n   *\n   * @return {undefined}\n   */\n\n\n  var handleFileRemoved = /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(file, removed) {\n      var user, response;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = props.user;\n              _context.prev = 1;\n              _context.next = 4;\n              return axios[\"delete\"](\"api/v1/users/\".concat(user.id, \"/avatar\"));\n\n            case 4:\n              response = _context.sent;\n\n              if (!(response.status !== 200)) {\n                _context.next = 8;\n                break;\n              }\n\n              removed(false, response.statusText);\n              return _context.abrupt(\"return\");\n\n            case 8:\n              removed(true);\n              _context.next = 17;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n\n              if (_context.t0.response) {\n                _context.next = 16;\n                break;\n              }\n\n              removed(false, 'File not removed due to unknown error.');\n              return _context.abrupt(\"return\");\n\n            case 16:\n              removed(false, _context.t0.response.statusText);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n\n    return function handleFileRemoved(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /**\n   * Handle the file upload.\n   *\n   * @param {object} file The file that should be fed to the API.\n   * @param {function} done When called, will inform that upload is done.\n   *\n   * @return {undefined}\n   */\n\n\n  var handleUpload = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(file, done) {\n      var user, formData, response;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              user = props.user;\n              _context2.prev = 1;\n              formData = new FormData();\n              formData.append('avatar', file);\n              _context2.next = 6;\n              return fetch(\"api/v1/users/\".concat(user.id, \"/avatar\"), {\n                method: 'POST',\n                headers: {\n                  Authorization: axios.defaults.headers.common['Authorization'],\n                  'X-CSRF-TOKEN': axios.defaults.headers.common['X-CSRF-TOKEN']\n                },\n                body: formData\n              });\n\n            case 6:\n              response = _context2.sent;\n\n              if (response.status !== 200) {\n                done(false, response.statusText);\n              }\n\n              done(true);\n              _context2.next = 17;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n\n              if (_context2.t0.response) {\n                _context2.next = 16;\n                break;\n              }\n\n              removed(false, 'File not uploaded due to unknown error.');\n              return _context2.abrupt(\"return\");\n\n            case 16:\n              removed(false, _context2.t0.response.statusText);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 11]]);\n    }));\n\n    return function handleUpload(_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (files.length > 0) {\n      return;\n    }\n\n    loadFiles();\n  });\n  var classes = props.classes,\n      handleSkip = props.handleSkip;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"Typography\"], {\n    variant: \"h6\",\n    gutterBottom: true\n  }, \"Avatar Upload\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__[\"Dropzone\"], {\n    initialFiles: files,\n    maxFiles: 1,\n    maxFileSize: 25,\n    handleUpload: handleUpload,\n    handleFileRemoved: handleFileRemoved\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: classes.sectionSpacer\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"Grid\"], {\n    container: true,\n    spacing: 24,\n    justify: \"flex-end\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"Grid\"], {\n    item: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSkip\n  }, \"Finish\"))));\n}\n\nAvatar.propTypes = {\n  classes: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,\n  user: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,\n  handleSkip: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      padding: theme.spacing.unit * 10,\n      border: \"1px solid \".concat(theme.palette.text.primary)\n    },\n    sectionSpacer: {\n      marginTop: theme.spacing.unit * 2\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"withStyles\"])(styles)(Avatar));\n\n//# sourceURL=webpack:///./resources/js/views/__backoffice/users/Forms/Avatar.js?");

/***/ })

}]);